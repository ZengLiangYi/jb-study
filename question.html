<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­”é¢˜ - å°å­¦æ™ºèƒ½å­¦ä¹ å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        
        .assistant-float {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 50;
        }
        
        .assistant-panel {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .assistant-panel.active {
            transform: translateX(0);
        }
        
        .bounce-animation {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .pulse-ring {
            animation: pulse-ring 2s infinite;
        }
        
        @keyframes pulse-ring {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        .chat-message {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        
        .chat-message.show {
            max-height: 200px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="bg-white px-8 py-4 flex items-center justify-between border-b">
        <i class="fas fa-times text-2xl text-gray-600 cursor-pointer" onclick="history.back()"></i>
        <div class="flex items-center space-x-2">
            <span class="text-sm text-gray-500">ç¬¬</span>
            <span class="text-xl font-bold text-blue-500">3</span>
            <span class="text-sm text-gray-500">/ 10 é¢˜</span>
        </div>
        <i class="fas fa-list text-2xl text-gray-600 cursor-pointer"></i>
    </div>

    <!-- è¿›åº¦æ¡ -->
    <div class="bg-white px-8 py-3">
        <div class="w-full bg-gray-200 rounded-full h-2">
            <div class="bg-blue-500 h-2 rounded-full" style="width: 30%"></div>
        </div>
    </div>

    <div class="p-8 pb-32">
        <!-- é¢˜ç›®å†…å®¹ -->
        <div class="bg-white rounded-3xl p-8 mb-6 shadow-sm" id="question-content">
            <div class="flex items-center space-x-2 mb-4">
                <span class="bg-blue-100 text-blue-600 px-3 py-1 rounded-lg text-sm font-medium">å•é€‰é¢˜</span>
                <span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-lg text-sm">ä¸­ç­‰</span>
            </div>
            <p class="text-lg text-gray-800 leading-relaxed mb-6" id="question-text">
                å°æ˜çš„å¦ˆå¦ˆä¹°äº†2åƒå…‹è‹¹æœï¼Œæ¯åƒå…‹8å…ƒã€‚åˆä¹°äº†3åƒå…‹æ©˜å­ï¼Œæ¯åƒå…‹6å…ƒã€‚ä¸€å…±èŠ±äº†å¤šå°‘é’±ï¼Ÿ
            </p>
            
            <!-- é€‰é¡¹ -->
            <div class="space-y-4" id="question-options">
                <div class="option border-2 border-gray-200 rounded-2xl p-5 flex items-center space-x-4 cursor-pointer hover:border-blue-400 transition" onclick="selectOption(this, 'A')">
                    <div class="w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center">
                        <span class="text-gray-600 font-medium">A</span>
                    </div>
                    <p class="text-gray-700">32å…ƒ</p>
                </div>
                
                <div class="option border-2 border-gray-200 rounded-2xl p-5 flex items-center space-x-4 cursor-pointer hover:border-blue-400 transition" onclick="selectOption(this, 'B')">
                    <div class="w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center">
                        <span class="text-gray-600 font-medium">B</span>
                    </div>
                    <p class="text-gray-700">30å…ƒ</p>
                </div>
                
                <div class="option border-2 border-blue-500 bg-blue-50 rounded-2xl p-5 flex items-center space-x-4 cursor-pointer" onclick="selectOption(this, 'C')">
                    <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                        <i class="fas fa-check text-white text-sm"></i>
                    </div>
                    <p class="text-gray-800 font-medium">34å…ƒ (2Ã—8 + 3Ã—6 = 16 + 18 = 34)</p>
                </div>
                
                <div class="option border-2 border-gray-200 rounded-2xl p-5 flex items-center space-x-4 cursor-pointer hover:border-blue-400 transition" onclick="selectOption(this, 'D')">
                    <div class="w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center">
                        <span class="text-gray-600 font-medium">D</span>
                    </div>
                    <p class="text-gray-700">36å…ƒ</p>
                </div>
            </div>
        </div>

        <!-- å·¥å…·æ  -->
        <div class="bg-white rounded-2xl p-4 flex justify-around shadow-sm mb-6">
            <button class="flex flex-col items-center space-y-1 p-3">
                <i class="fas fa-pencil-alt text-xl text-gray-600"></i>
                <span class="text-xs text-gray-600">è‰ç¨¿çº¸</span>
            </button>
            <button class="flex flex-col items-center space-y-1 p-3">
                <i class="fas fa-bookmark text-xl text-gray-600"></i>
                <span class="text-xs text-gray-600">æ”¶è—</span>
            </button>
            <button class="flex flex-col items-center space-y-1 p-3">
                <i class="fas fa-lightbulb text-xl text-gray-600"></i>
                <span class="text-xs text-gray-600">æç¤º</span>
            </button>
        </div>

        <!-- åº•éƒ¨æŒ‰é’® -->
        <div class="flex space-x-4">
            <button class="flex-1 bg-gray-200 text-gray-700 py-4 rounded-2xl font-medium text-lg">
                ä¸Šä¸€é¢˜
            </button>
            <button class="flex-1 bg-blue-500 text-white py-4 rounded-2xl font-medium text-lg">
                ä¸‹ä¸€é¢˜
            </button>
        </div>
    </div>

    <!-- æµ®åŠ¨AIåŠ©æ‰‹æŒ‰é’® -->
    <div class="assistant-float">
        <div class="relative">
            <!-- è„‰å†²åœ†ç¯ -->
            <div class="absolute inset-0 w-16 h-16 bg-purple-400 rounded-full pulse-ring"></div>
            <!-- ä¸»æŒ‰é’® -->
            <button id="assistant-btn" onclick="toggleAssistant()" class="relative w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-2xl flex items-center justify-center bounce-animation hover:scale-110 transition-transform">
                <i class="fas fa-robot text-white text-2xl"></i>
            </button>
            <!-- é—®å·æç¤º -->
            <div class="absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center" id="help-indicator">
                <span class="text-white text-xs font-bold">?</span>
            </div>
        </div>
    </div>

    <!-- AIåŠ©æ‰‹é¢æ¿ -->
    <div id="assistant-panel" class="fixed top-0 right-0 w-full max-w-md h-full bg-white shadow-2xl assistant-panel z-40">
        <!-- åŠ©æ‰‹å¤´éƒ¨ -->
        <div class="bg-gradient-to-r from-purple-500 to-pink-500 p-6 text-white">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
                        <i class="fas fa-robot text-2xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg">æ™ºæ™ºåŠ©æ‰‹</h3>
                        <p class="text-sm opacity-90">æˆ‘æ¥å¸®ä½ è§£é¢˜ï¼</p>
                    </div>
                </div>
                <button onclick="toggleAssistant()" class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

        <!-- èŠå¤©åŒºåŸŸ -->
        <div class="flex-1 p-4 h-full overflow-y-auto" style="max-height: calc(100vh - 200px);">
            <!-- å¿«é€Ÿå¸®åŠ©æŒ‰é’® -->
            <div class="mb-4">
                <p class="text-sm text-gray-500 mb-3">æˆ‘èƒ½ä¸ºä½ åšä»€ä¹ˆï¼Ÿ</p>
                <div class="grid grid-cols-2 gap-2">
                    <button onclick="askForHelp('è§£é¢˜æ€è·¯')" class="bg-blue-50 text-blue-600 p-3 rounded-xl text-sm font-medium hover:bg-blue-100 transition">
                        ğŸ’¡ è§£é¢˜æ€è·¯
                    </button>
                    <button onclick="askForHelp('é¢˜ç›®ç†è§£')" class="bg-green-50 text-green-600 p-3 rounded-xl text-sm font-medium hover:bg-green-100 transition">
                        ğŸ“– é¢˜ç›®ç†è§£
                    </button>
                    <button onclick="askForHelp('è®¡ç®—æ–¹æ³•')" class="bg-orange-50 text-orange-600 p-3 rounded-xl text-sm font-medium hover:bg-orange-100 transition">
                        ğŸ§® è®¡ç®—æ–¹æ³•
                    </button>
                    <button onclick="askForHelp('çŸ¥è¯†ç‚¹')" class="bg-purple-50 text-purple-600 p-3 rounded-xl text-sm font-medium hover:bg-purple-100 transition">
                        ğŸ“š ç›¸å…³çŸ¥è¯†ç‚¹
                    </button>
                </div>
            </div>

            <!-- èŠå¤©æ¶ˆæ¯åŒºåŸŸ -->
            <div id="chat-messages" class="space-y-4">
                <!-- æ¶ˆæ¯ä¼šåŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
            </div>
        </div>

        <!-- è¾“å…¥åŒºåŸŸ -->
        <div class="border-t p-4">
            <div class="flex items-center space-x-2">
                <button onclick="startVoiceInput()" class="w-10 h-10 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center">
                    <i class="fas fa-microphone"></i>
                </button>
                <div class="flex-1 bg-gray-100 rounded-2xl px-4 py-2">
                    <input type="text" id="chat-input" placeholder="è¾“å…¥ä½ çš„é—®é¢˜..." 
                           class="w-full bg-transparent outline-none text-gray-700" 
                           onkeypress="handleEnter(event)">
                </div>
                <button onclick="sendMessage()" class="w-10 h-10 bg-purple-500 text-white rounded-full flex items-center justify-center">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- é®ç½©å±‚ -->
    <div id="assistant-overlay" class="fixed inset-0 bg-black/50 z-30 hidden" onclick="toggleAssistant()"></div>

    <script>
        let assistantOpen = false;
        let currentQuestion = "å°æ˜çš„å¦ˆå¦ˆä¹°äº†2åƒå…‹è‹¹æœï¼Œæ¯åƒå…‹8å…ƒã€‚åˆä¹°äº†3åƒå…‹æ©˜å­ï¼Œæ¯åƒå…‹6å…ƒã€‚ä¸€å…±èŠ±äº†å¤šå°‘é’±ï¼Ÿ";
        
        function toggleAssistant() {
            const panel = document.getElementById('assistant-panel');
            const overlay = document.getElementById('assistant-overlay');
            const helpIndicator = document.getElementById('help-indicator');
            
            assistantOpen = !assistantOpen;
            
            if (assistantOpen) {
                panel.classList.add('active');
                overlay.classList.remove('hidden');
                helpIndicator.style.display = 'none';
                // è‡ªåŠ¨å‘é€é—®å€™æ¶ˆæ¯
                setTimeout(() => {
                    addAssistantMessage("ä½ å¥½ï¼æˆ‘çœ‹åˆ°ä½ åœ¨åšè¿™é“æ•°å­¦é¢˜ï¼Œæœ‰ä»€ä¹ˆä¸æ‡‚çš„åœ°æ–¹å—ï¼Ÿæˆ‘å¯ä»¥å¸®ä½ åˆ†æé¢˜ç›®ã€è§£é‡Šæ€è·¯ï¼Œä½†ä¸ä¼šç›´æ¥å‘Šè¯‰ä½ ç­”æ¡ˆå“¦ï¼ ğŸ˜Š");
                }, 500);
            } else {
                panel.classList.remove('active');
                overlay.classList.add('hidden');
            }
        }
        
        function askForHelp(type) {
            addUserMessage(`è¯·å¸®æˆ‘${type}`);
            
            setTimeout(() => {
                let response = "";
                switch(type) {
                    case "è§£é¢˜æ€è·¯":
                        response = "è¿™æ˜¯ä¸€é“è´­ä¹°ç‰©å“çš„è®¡ç®—é¢˜ã€‚è§£é¢˜æ€è·¯æ˜¯ï¼š\n\n1ï¸âƒ£ å…ˆè®¡ç®—è‹¹æœçš„æ€»ä»·\n2ï¸âƒ£ å†è®¡ç®—æ©˜å­çš„æ€»ä»·\n3ï¸âƒ£ æœ€åæŠŠä¸¤ä¸ªæ€»ä»·ç›¸åŠ \n\nä½ å¯ä»¥è¯•ç€æŒ‰è¿™ä¸ªæ­¥éª¤æ¥åšï¼";
                        break;
                    case "é¢˜ç›®ç†è§£":
                        response = "è®©æˆ‘å¸®ä½ ç†è§£è¿™é“é¢˜ï¼š\n\nğŸ“ é¢˜ç›®å‘Šè¯‰æˆ‘ä»¬ï¼š\nâ€¢ è‹¹æœï¼š2åƒå…‹ï¼Œæ¯åƒå…‹8å…ƒ\nâ€¢ æ©˜å­ï¼š3åƒå…‹ï¼Œæ¯åƒå…‹6å…ƒ\n\nâ“ è¦æ±‚ï¼šä¸€å…±èŠ±äº†å¤šå°‘é’±ï¼Ÿ\n\nè¿™æ˜¯è¦æˆ‘ä»¬è®¡ç®—æ€»è´¹ç”¨å“¦ï¼";
                        break;
                    case "è®¡ç®—æ–¹æ³•":
                        response = "è®¡ç®—æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼š\n\nğŸ è‹¹æœæ€»ä»· = é‡é‡ Ã— å•ä»·\nğŸŠ æ©˜å­æ€»ä»· = é‡é‡ Ã— å•ä»·\nğŸ’° æ€»è´¹ç”¨ = è‹¹æœæ€»ä»· + æ©˜å­æ€»ä»·\n\nä½ èƒ½è¯•ç€è®¡ç®—ä¸€ä¸‹å—ï¼Ÿ";
                        break;
                    case "çŸ¥è¯†ç‚¹":
                        response = "è¿™é“é¢˜æ¶‰åŠçš„çŸ¥è¯†ç‚¹ï¼š\n\nğŸ“– ä¹˜æ³•è¿ç®—ï¼ˆé‡é‡Ã—å•ä»·ï¼‰\nğŸ“– åŠ æ³•è¿ç®—ï¼ˆä¸¤ä¸ªæ€»ä»·ç›¸åŠ ï¼‰\nğŸ“– å®é™…åº”ç”¨é¢˜è§£é¢˜æ–¹æ³•\n\nè¿™äº›éƒ½æ˜¯å…­å¹´çº§æ•°å­¦çš„é‡è¦å†…å®¹ï¼";
                        break;
                }
                addAssistantMessage(response);
            }, 1000);
        }
        
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message) {
                addUserMessage(message);
                input.value = '';
                
                // æ¨¡æ‹ŸAIå›å¤
                setTimeout(() => {
                    const response = generateAIResponse(message);
                    addAssistantMessage(response);
                }, 1500);
            }
        }
        
        function handleEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        function addUserMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message show';
            messageDiv.innerHTML = `
                <div class="flex justify-end">
                    <div class="bg-purple-500 text-white p-3 rounded-2xl rounded-tr-none max-w-xs">
                        <p class="text-sm">${message}</p>
                    </div>
                </div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function addAssistantMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message show';
            messageDiv.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="bg-gray-100 p-3 rounded-2xl rounded-tl-none max-w-xs">
                        <p class="text-sm whitespace-pre-line">${message}</p>
                    </div>
                </div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function generateAIResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();
            
            if (lowerMessage.includes('ç­”æ¡ˆ') || lowerMessage.includes('é€‰ä»€ä¹ˆ')) {
                return "æˆ‘ä¸èƒ½ç›´æ¥å‘Šè¯‰ä½ ç­”æ¡ˆï¼Œä½†æˆ‘å¯ä»¥å¸®ä½ åˆ†æè§£é¢˜æ€è·¯ï¼ä½ å¯ä»¥å…ˆè¯•ç€ç†è§£é¢˜ç›®ï¼Œç„¶åä¸€æ­¥æ­¥è®¡ç®—ã€‚éœ€è¦æˆ‘å¸®ä½ åˆ†æå“ªä¸ªéƒ¨åˆ†å‘¢ï¼Ÿ";
            } else if (lowerMessage.includes('ä¸ä¼š') || lowerMessage.includes('ä¸æ‡‚')) {
                return "æ²¡å…³ç³»ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥åˆ†æï¼è¿™é“é¢˜å…¶å®ä¸éš¾ï¼Œå…³é”®æ˜¯è¦ç†è§£é¢˜ç›®è¦æ±‚ä»€ä¹ˆã€‚ä½ èƒ½å‘Šè¯‰æˆ‘ä½ è§‰å¾—å“ªä¸ªéƒ¨åˆ†æ¯”è¾ƒå›°éš¾å—ï¼Ÿ";
            } else if (lowerMessage.includes('æ€ä¹ˆç®—') || lowerMessage.includes('è®¡ç®—')) {
                return "å¾ˆå¥½çš„é—®é¢˜ï¼è®¡ç®—æ­¥éª¤æ˜¯ï¼š\n1. å…ˆç®—è‹¹æœèŠ±äº†å¤šå°‘é’±\n2. å†ç®—æ©˜å­èŠ±äº†å¤šå°‘é’±\n3. æœ€åæŠŠä¸¤ä¸ªé‡‘é¢åŠ èµ·æ¥\n\nä½ å¯ä»¥è¯•è¯•ç¬¬ä¸€æ­¥ï¼š2åƒå…‹è‹¹æœï¼Œæ¯åƒå…‹8å…ƒï¼Œåº”è¯¥æ€ä¹ˆç®—å‘¢ï¼Ÿ";
            } else {
                return "æˆ‘ç†è§£ä½ çš„é—®é¢˜ã€‚è®©æˆ‘ä»¬ä¸“æ³¨äºè¿™é“é¢˜ç›®ï¼Œä½ å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„å¿«é€Ÿå¸®åŠ©æŒ‰é’®ï¼Œæˆ–è€…å‘Šè¯‰æˆ‘ä½ å…·ä½“éœ€è¦å¸®åŠ©çš„åœ°æ–¹ï¼";
            }
        }
        
        function startVoiceInput() {
            addAssistantMessage("è¯­éŸ³åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ä½¿ç”¨æ–‡å­—è¾“å…¥ã€‚ä½ å¯ä»¥ç›´æ¥è¾“å…¥é—®é¢˜æˆ–ç‚¹å‡»ä¸Šé¢çš„å¿«é€Ÿå¸®åŠ©æŒ‰é’®ï¼");
        }
        
        function selectOption(element, option) {
            // ç§»é™¤æ‰€æœ‰é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('border-blue-500', 'bg-blue-50');
                opt.classList.add('border-gray-200');
                const circle = opt.querySelector('.w-8');
                circle.classList.remove('bg-blue-500');
                circle.classList.add('border-2', 'border-gray-300');
                circle.innerHTML = `<span class="text-gray-600 font-medium">${opt.querySelector('span').textContent}</span>`;
            });
            
            // æ·»åŠ å½“å‰é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            element.classList.remove('border-gray-200');
            element.classList.add('border-blue-500', 'bg-blue-50');
            const circle = element.querySelector('.w-8');
            circle.classList.remove('border-2', 'border-gray-300');
            circle.classList.add('bg-blue-500');
            circle.innerHTML = '<i class="fas fa-check text-white text-sm"></i>';
        }
        
        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå¸®åŠ©æç¤º
        setTimeout(() => {
            document.getElementById('help-indicator').style.display = 'flex';
        }, 3000);
    </script>
</body>
</html>